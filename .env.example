APP_ENV=dev
APP_VERSION=dev
APP_HTTP_PORT=8080

# Оставьте пустым по умолчанию; для локального прокси dev-сервера вне Docker можно указать http://localhost:5173
MINIAPP_DEV_SERVER_URL=
# Оставьте пустым по умолчанию; для статической выдачи локально после npm run build можно указать miniapp/dist
MINIAPP_STATIC_DIR=

# Mini App / Auth
# Секрет для подписи session token Mini App. В проде обязательно заменить.
API_SESSION_JWT_SECRET=please-change-me
# TTL гостевого session token (секунды). Управляет сроком действия Bearer.
API_SESSION_TTL_SECONDS=3600

# Безопасность Telegram Mini App initData:
# - отклонять initData старше этого значения (секунды)
TELEGRAM_MINIAPP_INITDATA_MAX_AGE_SECONDS=300
# - отклонять initData слишком далеко в будущем относительно часов сервера (секунды)
TELEGRAM_MINIAPP_INITDATA_MAX_FUTURE_SKEW_SECONDS=30

# Режим UX для browse-эндпойнтов (/guest/catalog, /guest/venue/{id}, /guest/venue/{id}/menu)
# при приостановленном/недоступном заведении. Для order/staff-call 423 только при
# SERVICE_SUSPENDED / SUBSCRIPTION_BLOCKED, остальные причины недоступности -> 404:
# - explain: 423 с SERVICE_SUSPENDED / SUBSCRIPTION_BLOCKED где применимо
# - hide: вести себя как NOT_FOUND для suspended/unavailable заведений (UX: "venue not available")
API_GUEST_SUSPENDED_MODE=explain

TELEGRAM_BOT_ENABLED=false
# TELEGRAM_BOT_TOKEN нужен и для Mini App auth: подпись initData валидируется на основе bot token.
# Не добавляйте реальные токены/секреты в репозиторий.
TELEGRAM_BOT_TOKEN=
TELEGRAM_BOT_MODE=long_polling
TELEGRAM_WEBHOOK_PATH=/telegram/webhook
TELEGRAM_WEBHOOK_SECRET_TOKEN=
TELEGRAM_WEBAPP_PUBLIC_URL=http://localhost:8080/miniapp/
PLATFORM_OWNER_TELEGRAM_ID=
TELEGRAM_LONG_POLLING_TIMEOUT_SECONDS=25
TELEGRAM_STAFF_CHAT_LINK_TTL_SECONDS=900
# Используйте уникальную строку, не совпадающую с токенами; требуется для HMAC кода привязки (обязательно при TELEGRAM_BOT_ENABLED=true)
TELEGRAM_STAFF_CHAT_LINK_SECRET_PEPPER=please-set-when-enabled
TELEGRAM_REQUIRE_STAFF_CHAT_ADMIN=true

DB_JDBC_URL=jdbc:postgresql://localhost:5432/hookah
DB_USER=hookah
DB_PASSWORD=hookah

POSTGRES_USER=hookah
POSTGRES_PASSWORD=hookah
POSTGRES_DB=hookah
